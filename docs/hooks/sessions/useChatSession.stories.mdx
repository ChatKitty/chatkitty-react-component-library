import { Canvas, Meta, ArgsTable } from "@storybook/addon-docs";

<Meta title="Hooks/Sessions/useChatSession" />

# <u>useChatSession</u>

Note: This hook does not make an initial request on mount.

```typescript
const {
  resource,
  isLoading,
  error,
  makeRequest: startChatSession,
} = useChatSession();

// example usage
React.useEffect(() => {
  const session = startChatSession(
    channel,
    onReceivedMessage,
    onTypingStarted,
    onTypingStopped
  );

  return session.end;
}, [channel]);
```

## Input

| Parameter | Type      | Required | Defaults | Description               |
| :-------- | :-------- | :------- | :------- | :------------------------ |
| `client`  | ChatKitty | Yes      | n/a      | ChatKitty client instance |

## Output

| Parameter     | Type                                                 | Description                                    |
| :------------ | :--------------------------------------------------- | :--------------------------------------------- |
| `resource`    | ChatSession                                          | ChatSession that was started                   |
| `isLoading `  | boolean                                              | Request loading state                          |
| `error`       | ChatKittyError                                       | If there's an error, it will be available here |
| `makeRequest` | `(params: StartChatSessionRequest) => Promise<void>` | Callback to request or re-request              |
